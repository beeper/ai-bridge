diff a/pkg/connector/metadata.go b/pkg/connector/metadata.go	(rejected hunks)
@@ -5,6 +5,7 @@ import (
 	"go.mau.fi/util/jsontime"
 	"go.mau.fi/util/random"
 	"maunium.net/go/mautrix/bridgev2/database"
+	"maunium.net/go/mautrix/bridgev2/networkid"
 )
 
 // ModelCache stores available models (cached in UserLoginMetadata)
@@ -68,6 +69,9 @@ type UserLoginMetadata struct {
 	// FileAnnotationCache stores parsed PDF content from OpenRouter's file-parser plugin
 	// Key is the file hash (SHA256), pruned after 7 days
 	FileAnnotationCache map[string]FileAnnotation `json:"file_annotation_cache,omitempty"`
+
+	// Agent Builder room for managing agents
+	BuilderRoomID networkid.PortalID `json:"builder_room_id,omitempty"`
 }
 
 // PortalMetadata stores per-room tuning knobs for the assistant.
@@ -91,7 +95,10 @@ type PortalMetadata struct {
 	LastResponseID   string `json:"last_response_id,omitempty"`
 	EmitThinking     bool   `json:"emit_thinking,omitempty"`
 	EmitToolArgs     bool   `json:"emit_tool_args,omitempty"`
-	DefaultAgentID   string `json:"default_agent_id,omitempty"`
+
+	// Agent-related metadata
+	DefaultAgentID string `json:"default_agent_id,omitempty"` // Agent assigned to this room (legacy name, same as AgentID)
+	AgentID        string `json:"agent_id,omitempty"`         // Which agent is the ghost for this room
 }
 
 // MessageMetadata keeps a tiny summary of each exchange so we can rebuild
