# Connector-specific configuration lives under the `network:` section of the
# main config file.

# Beeper AI credentials for automatic login (optional).
# If both base_url and token are set, users don't need to manually log in,
# and the Beeper provider won't appear in login flow options.
beeper:
  base_url: ""  # Required if using Beeper provider
  token: ""

# Per-provider default models and settings.
# These are used when a room doesn't have a specific model configured.
providers:
  beeper:
    default_model: "google/gemini-2.5-flash"
    # PDF processing engine for OpenRouter's file-parser plugin.
    # Options: pdf-text (free), mistral-ocr (OCR, paid, default), native
    default_pdf_engine: "mistral-ocr"
  openai:
    default_model: "openai/gpt-4o-mini"
  openrouter:
    default_model: "google/gemini-2.5-flash"
    # PDF processing engine for OpenRouter's file-parser plugin.
    # Options: pdf-text (free), mistral-ocr (OCR, paid, default), native
    default_pdf_engine: "mistral-ocr"

# Global settings
default_system_prompt: |
  You are a helpful assistant.
model_cache_duration: 6h

# Context pruning configuration (OpenClaw-style).
# Reduces token usage by intelligently truncating old tool results.
# Disabled by default - opt-in feature.
pruning:
  # Enable proactive context pruning
  enabled: false

  # Ratio of context window usage that triggers soft trimming (0.0-1.0)
  # At 30% usage, large tool results start getting truncated
  soft_trim_ratio: 0.3

  # Ratio of context window usage that triggers hard clearing (0.0-1.0)
  # At 50% usage, old tool results are replaced with placeholder
  hard_clear_ratio: 0.5

  # Number of recent assistant messages to protect from pruning
  keep_last_assistants: 3

  # Minimum total chars in prunable tool results before hard clear kicks in
  min_prunable_chars: 50000

  # Tool results larger than this are candidates for soft trimming
  soft_trim_max_chars: 4000

  # When soft trimming, keep this many chars from the start
  soft_trim_head_chars: 1500

  # When soft trimming, keep this many chars from the end
  soft_trim_tail_chars: 1500

  # Enable/disable hard clear phase
  hard_clear_enabled: true

  # Placeholder text for hard-cleared tool results
  hard_clear_placeholder: "[Old tool result content cleared]"

  # Tool patterns to allow/deny pruning (supports wildcards: exec*, *_search)
  # Empty means all tools are prunable unless denied
  # tools_allow: []
  # tools_deny: []
